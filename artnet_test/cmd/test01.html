<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>123</title>
</head>
<body>

<h3>Websocket GO</h3>
<pre id="output"></pre>

<script>
        url = "ws://localhost:3000/ws";
        c = new WebSocket(url);

        send = function(data){
            $("#output").append((new Date())+ " ==> " + data+"\n")
            c.send(data)
        }

        c.onmessage = function(msg){
            $("#output").append((new Date()) + " <== " + msg.data + "\n")
            console.log(msg)
        }

        c.onopen = function(){
            setInterval( function(){ send("ping")}, 1000 )
        }
    </script>
</body>
</html>